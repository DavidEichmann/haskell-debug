"use strict";
const spacePen = require("atom-space-pen-views");
const emissary = require("emissary");
const React = require("./ReactPolyfill");
class SelectDebugModeView extends spacePen.SelectListView {
    constructor(debugModes, activeItem) {
        super(debugModes, activeItem);
        this.debugModes = debugModes;
        this.activeItem = activeItem;
        this.emitter = new emissary.Emitter();
    }
    initialize(debugModes, activeItem) {
        this.debugModes = debugModes;
        this.activeItem = activeItem;
        super.initialize();
        this.storeFocusedElement();
        this.setItems(debugModes);
        const ol = this.element.querySelector('ol');
        if (ol) {
            ol.classList.add('mark-active');
        }
    }
    viewForItem(item) {
        const element = React.createElement("li", null, item.description);
        if (item.value === this.activeItem) {
            element.classList.add('active');
        }
        return element;
    }
    confirmed(item) {
        this.emitter.emit('selected', item.value);
        this.cancel();
    }
    cancelled() {
        this.emitter.emit('canceled');
    }
}
module.exports = SelectDebugModeView;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0RGVidWdNb2RlVmlldy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdmlld3MvU2VsZWN0RGVidWdNb2RlVmlldy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlEQUFpRDtBQUNqRCxxQ0FBcUM7QUFDckMseUNBQXlDO0FBT3pDLHlCQUEwQixTQUFRLFFBQVEsQ0FBQyxjQUFvQjtJQUczRCxZQUFxQixVQUFrQixFQUFVLFVBQWtCO1FBQy9ELEtBQUssQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUE7UUFEWixlQUFVLEdBQVYsVUFBVSxDQUFRO1FBQVUsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUZuRSxZQUFPLEdBQUcsSUFBSSxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUE7SUFJaEMsQ0FBQztJQUVELFVBQVUsQ0FBRSxVQUFVLEVBQUUsVUFBVTtRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQTtRQUM1QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQTtRQUU1QixLQUFLLENBQUMsVUFBVSxFQUFFLENBQUE7UUFDbEIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUE7UUFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN6QixNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUMzQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUE7UUFBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCxXQUFXLENBQUUsSUFBVTtRQUNuQixNQUFNLE9BQU8sR0FBRyxnQ0FBSyxJQUFJLENBQUMsV0FBVyxDQUFNLENBQUE7UUFDM0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUNqQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUNuQyxDQUFDO1FBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0lBRUQsU0FBUyxDQUFFLElBQVU7UUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUE7SUFDakIsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0NBQ0o7QUFFRCxpQkFBUyxtQkFBbUIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzcGFjZVBlbiA9IHJlcXVpcmUoJ2F0b20tc3BhY2UtcGVuLXZpZXdzJylcbmltcG9ydCBlbWlzc2FyeSA9IHJlcXVpcmUoJ2VtaXNzYXJ5JylcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJy4vUmVhY3RQb2x5ZmlsbCcpXG5cbmludGVyZmFjZSBJdGVtIHtcbiAgICB2YWx1ZTogc3RyaW5nXG4gICAgZGVzY3JpcHRpb246IHN0cmluZ1xufVxuXG5jbGFzcyBTZWxlY3REZWJ1Z01vZGVWaWV3IGV4dGVuZHMgc3BhY2VQZW4uU2VsZWN0TGlzdFZpZXc8SXRlbT4ge1xuICAgIGVtaXR0ZXIgPSBuZXcgZW1pc3NhcnkuRW1pdHRlcigpXG5cbiAgICBjb25zdHJ1Y3RvciAocHJpdmF0ZSBkZWJ1Z01vZGVzOiBJdGVtW10sIHByaXZhdGUgYWN0aXZlSXRlbTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKGRlYnVnTW9kZXMsIGFjdGl2ZUl0ZW0pXG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSAoZGVidWdNb2RlcywgYWN0aXZlSXRlbSkge1xuICAgICAgICB0aGlzLmRlYnVnTW9kZXMgPSBkZWJ1Z01vZGVzXG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IGFjdGl2ZUl0ZW1cblxuICAgICAgICBzdXBlci5pbml0aWFsaXplKClcbiAgICAgICAgdGhpcy5zdG9yZUZvY3VzZWRFbGVtZW50KClcbiAgICAgICAgdGhpcy5zZXRJdGVtcyhkZWJ1Z01vZGVzKVxuICAgICAgICBjb25zdCBvbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdvbCcpXG4gICAgICAgIGlmIChvbCkgeyBvbC5jbGFzc0xpc3QuYWRkKCdtYXJrLWFjdGl2ZScpIH1cbiAgICB9XG5cbiAgICB2aWV3Rm9ySXRlbSAoaXRlbTogSXRlbSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gPGxpPntpdGVtLmRlc2NyaXB0aW9ufTwvbGk+XG4gICAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0aGlzLmFjdGl2ZUl0ZW0pIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIGNvbmZpcm1lZCAoaXRlbTogSXRlbSkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc2VsZWN0ZWQnLCBpdGVtLnZhbHVlKVxuICAgICAgICB0aGlzLmNhbmNlbCgpXG4gICAgfVxuXG4gICAgY2FuY2VsbGVkICgpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2NhbmNlbGVkJylcbiAgICB9XG59XG5cbmV4cG9ydCA9IFNlbGVjdERlYnVnTW9kZVZpZXdcbiJdfQ==