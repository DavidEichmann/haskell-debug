"use strict";
const emissary = require("emissary");
class Button {
    constructor(description, icon) {
        this.emitter = new emissary.Emitter();
        this.startClick = false;
        this._isEnabled = true;
        this.element = document.createElement('button');
        this.element.className = 'btn btn-primary icon';
        this.element.classList.add('icon-' + icon);
        this.tooltip = atom.tooltips.add(this.element, {
            title: description
        });
        this.element.addEventListener('mousedown', () => {
            this.startClick = true;
        });
        this.element.addEventListener('click', () => {
            if (this.startClick && this._isEnabled) {
                this.emitter.emit('click');
            }
        });
    }
    set isEnabled(enabled) {
        if (enabled) {
            this.element.classList.remove('disabled');
        }
        else {
            this.element.classList.add('disabled');
        }
        this._isEnabled = enabled;
    }
    destroy() {
        this.tooltip.dispose();
    }
}
module.exports = Button;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnV0dG9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi92aWV3cy9CdXR0b24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHFDQUFxQztBQUVyQztJQXFCSSxZQUFhLFdBQW1CLEVBQUUsSUFBWTtRQW5COUMsWUFBTyxHQUFHLElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQ2hDLGVBQVUsR0FBRyxLQUFLLENBQUE7UUFDVixlQUFVLEdBQUcsSUFBSSxDQUFBO1FBa0JyQixJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFL0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsc0JBQXNCLENBQUE7UUFDL0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQTtRQUUxQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDM0MsS0FBSyxFQUFFLFdBQVc7U0FDckIsQ0FBQyxDQUFBO1FBRUYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUU7WUFDdkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUE7UUFDMUIsQ0FBQyxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtZQUNuQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUM5QixDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBaENELElBQUksU0FBUyxDQUFFLE9BQWdCO1FBQzNCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDVixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDN0MsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzFDLENBQUM7UUFFRCxJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQTtJQUM3QixDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDMUIsQ0FBQztDQXFCSjtBQUVELGlCQUFTLE1BQU0sQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbWlzc2FyeSA9IHJlcXVpcmUoJ2VtaXNzYXJ5JylcblxuY2xhc3MgQnV0dG9uIHtcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudFxuICAgIGVtaXR0ZXIgPSBuZXcgZW1pc3NhcnkuRW1pdHRlcigpXG4gICAgc3RhcnRDbGljayA9IGZhbHNlXG4gICAgcHJpdmF0ZSBfaXNFbmFibGVkID0gdHJ1ZVxuICAgIHByaXZhdGUgdG9vbHRpcDogQXRvbUNvcmUuRGlzcG9zYWJsZVxuXG4gICAgc2V0IGlzRW5hYmxlZCAoZW5hYmxlZDogYm9vbGVhbil7XG4gICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJylcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGVuYWJsZWRcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpIHtcbiAgICAgICAgdGhpcy50b29sdGlwLmRpc3Bvc2UoKVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yIChkZXNjcmlwdGlvbjogc3RyaW5nLCBpY29uOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcblxuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gJ2J0biBidG4tcHJpbWFyeSBpY29uJ1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaWNvbi0nICsgaWNvbilcblxuICAgICAgICB0aGlzLnRvb2x0aXAgPSBhdG9tLnRvb2x0aXBzLmFkZCh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIHRpdGxlOiBkZXNjcmlwdGlvblxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q2xpY2sgPSB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0Q2xpY2sgJiYgdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2NsaWNrJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCA9IEJ1dHRvblxuIl19